<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      type="text/javascript"
      src="https://cdn.emailjs.com/dist/email.min.js"
    ></script>
    <audio
      id="devilLaughSound"
      src="audio/possession-173851.mp3"
      autoplay
      loop
      preload="auto"
    ></audio>
    <script>
      // Function to play the devil laugh sound
      function playDevilLaugh() {
        var devilLaughAudio = document.getElementById("devilLaughSound");
        devilLaughAudio.play();
      }

      // Function to stop the devil laugh sound
      function stopDevilLaugh() {
        var devilLaughAudio = document.getElementById("devilLaughSound");
        devilLaughAudio.pause();
        devilLaughAudio.currentTime = 0; // Reset to the beginning
      }

      // Function for typing effect
      function typeEffect(element, text, speed, callback) {
        let i = 0;
        function type() {
          if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(type, speed);
          } else {
            if (callback) callback();
          }
        }
        type();
      }

      // Call playDevilLaugh and initiate typing effect when the page loads
      window.onload = function () {
        playDevilLaugh();

        function playSequence() {
          const devilMessage = document.getElementById("messageContainer");
          const loginMessage = document.getElementById("loginMessage");
          const loginText = "Login";

          typeEffect(devilMessage, "Devil calling you", 400, function () {
            // Replace "Devil calling you" with "Login"
            devilMessage.innerHTML = ""; // Clear the previous text
            typeEffect(loginMessage, loginText, 500, playSequence());
          });
        }

        playSequence();
      };

      // Call stopDevilLaugh when the user navigates away from the page
      window.onbeforeunload = stopDevilLaugh;

      function checkCredentials() {
        var usernameInput = document.getElementById("username").value;
        var passwordInput = document.getElementById("password").value;

        if (usernameInput === "devil" && passwordInput === "hellwelcomesyou") {
          // Redirect to the hero.html page
          window.location.href = "./hero.html";
        } else {
          // Show custom alert for wrong credentials
          document.getElementById("customAlert").style.display = "flex";
        }
      }

      function closeCustomAlert() {
        // Hide the custom alert
        document.getElementById("customAlert").style.display = "none";
      }

      function showDevilMessage() {
        // Show message when "Hell yes" is clicked
        document.getElementById("customAlertContent").innerHTML =
          "<p>Enter your email to receive the devil's message:</p>" +
          '<input type="email" id="emailInput" placeholder="Your Email" required />' +
          '<div id="customAlertButtons">' +
          '<button id="sendButton" onclick="sendDevilMessage()">Send</button>' +
          '<button id="cancelButton" onclick="cancelDevilMessage()">Cancel</button>' +
          "</div>";
      }

      function sendDevilMessage() {
        var emailInput = document.getElementById("emailInput").value;
        var usernameInput = document.getElementById("username").value;
        var passwordInput = document.getElementById("password").value;

        // Display a custom popup message
        var popupContent =
          "<p>Devil smiles by seeing your karma.</p>" +
          '<div id="customAlertButtons">' +
          '<button id="closeButton" onclick="closeCustomAlert()">Close</button>' +
          "</div>";

        document.getElementById("customAlertContent").innerHTML = popupContent;
        document.getElementById("customAlert").style.display = "flex";
      }

      function cancelDevilMessage() {
        // Show the message "Then don't come again"
        document.getElementById("customAlertContent").innerHTML =
          "<p>Then don't come again</p>" +
          '<div id="customAlertButtons">' +
          '<button id="closeButton" onclick="closeCustomAlert()">Close</button>' +
          "</div>";
      }
    </script>

    <title>Devil</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }

      img {
        width: 100vw;
        height: 100vh;
        object-fit: cover;
      }

      .login-container {
        background-color: rgba(255, 255, 255, 0.5); /* Transparent background */
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        width: 300px;
        max-width: 80%;
        text-align: center;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1;
      }

      .login-container h2 {
        margin-bottom: 20px;
      }

      .login-form {
        background-color: transparent; /* Transparent background */
      }

      .login-form input {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        box-sizing: border-box;
        background-color: rgba(
          255,
          255,
          255,
          0.8
        ); /* Semi-transparent background */
        border: 1px solid #ccc;
      }

      .login-form button {
        width: 100%;
        padding: 10px;
        background-color: #333; /* Light black color */
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .login-form button:hover {
        background-color: #555; /* Darker shade on hover */
      }

      /* Custom alert style */
      #customAlert {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        color: #fff;
        justify-content: center;
        align-items: center;
        font-size: 20px;
        z-index: 2;
      }

      #customAlertContent {
        background: #333;
        border-radius: 5px;
        padding: 20px;
        text-align: center;
      }

      #customAlertButtons {
        margin-top: 20px;
      }

      #okButton,
      #closeButton,
      #sendButton,
      #cancelButton {
        padding: 10px;
        margin: 0 10px;
        background-color: #333;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      #okButton:hover,
      #closeButton:hover,
      #sendButton:hover,
      #cancelButton:hover {
        background-color: #555;
      }

      #emailInput {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        box-sizing: border-box;
      }
    </style>
  </head>
  <body>
    <img src="./images/nothing.jpg" alt="nothing" />

    <div class="login-container">
      <h2 id="messageContainer"></h2>
      <form class="login-form" id="loginForm">
        <input type="text" id="username" placeholder="Username" required />
        <input type="password" id="password" placeholder="Password" required />
        <button type="button" onclick="checkCredentials()">Login</button>
      </form>
    </div>

    <div id="customAlert">
      <div id="customAlertContent">
        <p>Are you sure you are the one said by the devil?</p>
        <div id="customAlertButtons">
          <button id="okButton" onclick="showDevilMessage()">Hell yes</button>
          <button id="cancelButton" onclick="cancelDevilMessage()">No</button>
        </div>
      </div>
    </div>
  </body>
</html>
